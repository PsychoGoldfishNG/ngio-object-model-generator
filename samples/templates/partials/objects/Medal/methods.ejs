    <%# EJS DOCUMENTATION: https://ejs.co/ %>
    COMMENT: ====================================================================================
    COMMENT: CUSTOM METHOD: unlock
    COMMENT: ====================================================================================
    
    COMMENT: Unlocks this medal for the current user.
    METHOD unlock(callback: Function, thisArg: Object)
        
        PURPOSE: Unlocks this medal and notifies the callback when complete
        
        PARAMETERS:
            callback: Function to call when the unlock completes
            thisArg: Context to use when calling the callback
        
        BEHAVIOR:
            COMMENT: Store callback parameters for later use
            CREATE callbackParams object WITH {
                callback: callback,
                thisArg: thisArg
            }
            
            COMMENT: TODO: Add your medal unlocking logic here
            COMMENT: This should call the Medal.unlock component via your API wrapper
            COMMENT: When complete, call this.onUnlock with the result and callbackParams
    END METHOD
    
    COMMENT: ====================================================================================
    COMMENT: CALLBACK METHOD: onUnlock
    COMMENT: ====================================================================================
    
    COMMENT: Callback handler for when the medal unlock completes.
    METHOD onUnlock(result: Object, callbackParams: Object)
        
        PURPOSE: Processes the result of the medal unlock and executes the user's callback
        
        PARAMETERS:
            result: The result object from the Medal.unlock component call
            callbackParams: The callback parameters stored during unlock()
        
        BEHAVIOR:
            COMMENT: If the unlock was successful, update this medal's state
            IF result.success THEN
                SET this.unlocked TO true
            END IF
            
            COMMENT: Call the user's callback if one was provided
            IF callbackParams.callback is defined THEN
                CALL callbackParams.callback WITH context callbackParams.thisArg
                    PASSING result.medal, result.medal_score
            END IF
    END METHOD
    
    COMMENT: ====================================================================================
    COMMENT: SESSION MANAGEMENT METHOD
    COMMENT: ====================================================================================
    
    COMMENT: Clears session-specific data to return the medal to its unauthenticated state.
    METHOD clearSessionData()
        
        PURPOSE: Resets the medal to reflect only server-defined state, not user-specific unlock status
        
        WHY: Called by AppState.onSessionCleared() when the user's session expires or is cleared
        
        BEHAVIOR:
            SET this.unlocked TO false
    END METHOD
